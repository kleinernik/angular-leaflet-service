!function(e){e.module("angularLeafletService.config",[]).value("angularLeafletService.config",{debug:!0}),e.module("angularLeafletService.services",[]),e.module("angularLeafletService.directives",["angularLeafletService.services"]),e.module("angularLeafletService",["angularLeafletService.config","angularLeafletService.directives","angularLeafletService.services"])}(angular),angular.module("angularLeafletService.directives").directive("leaflet-map",function(e){return{template:"",restrict:"E",scope:{mapboxStyle:"="},link:function(a,r){switch(a.id=r.attr("id"),console.log(a.id),e.getProvider()){case"mapbox":a.mapboxStyle||(a.mapboxStyle="mapbox.streets"),a.map=L.mapbox.map(a.id,a.mapboxStyle);break;case"leaflet":a.map=L.map(a.id)}a.map.setView([53.544058899999996,9.996588299999999],18),e.registerMap(a.map,a.id)}}}),angular.module("angularLeafletService.services").service("$leaflet",function(e){var a=[],r=[],i="leaflet";return{registerMap:function(e,i){a[i]=e,r[i]&&(r[i].forEach(function(a){a.resolve(e)}),r[i]=null)},getMap:function(i){var l=e.defer(),t=a[i];return t?l.resolve(t):(r[i]||(r[i]=[]),r[i].push(l)),l.promise},setup:function(e){e.provider&&(i=e.provider),"mapbox"===i&&(L.mapbox.accessToken=e.accessToken)},getProvider:function(){return i}}});